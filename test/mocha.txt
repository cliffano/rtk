
[0m[0m
[0m  cli - exec[0m
  [32m  [32mâœ”[39m[0m[90m should contain commands with actions[0m

[0m  cli - release[0m
  [32m  [32mâœ”[39m[0m[90m should contain release command and delegate to rtk release when exec is called[0m

[0m  rtk[0m
[0m    default rtk release scheme[0m
    [32m  [32mâœ”[39m[0m[90m should initialise version schemes[0m
    [32m  [32mâœ”[39m[0m[90m should initialise scm schemes[0m
    [32m  [32mâœ”[39m[0m[90m should initialise resource types[0m
    [32m  [32mâœ”[39m[0m[90m should initialise version scheme[0m
    [32m  [32mâœ”[39m[0m[90m should initialise scm scheme[0m
    [32m  [32mâœ”[39m[0m[90m should not have label[0m
[0m    default rtk release scheme[0m
    [32m  [32mâœ”[39m[0m[90m should not have label[0m

[0m  hcl[0m
[0m    setVersion[0m
    [32m  [32mâœ”[39m[0m[90m should only set version but not modify hcl file when dry run is enabled[0m
    [32m  [32mâœ”[39m[0m[90m should set call hcledit via execaSync when dry run is disabled[0m
    [32m  [32mâœ”[39m[0m[90m should set array property under a section[0m
[0m    getVersion[0m
    [32m  [32mâœ”[39m[0m[90m should get version from resource property[0m
    [32m  [32mâœ”[39m[0m[90m should get array property as a subproperty[0m
    [32m  [32mâœ”[39m[0m[90m should get array property under a resource[0m

[0m  json[0m
[0m    setVersion[0m
    [32m  [32mâœ”[39m[0m[90m should only set version but not modify json file when dry run is enabled[0m
    [32m  [32mâœ”[39m[0m[90m should set version and modify json file when dry run is disabled[0m
    [32m  [32mâœ”[39m[0m[90m should set property under array sub-property[0m
[0m    getVersion[0m
    [32m  [32mâœ”[39m[0m[90m should get version from resource property[0m
    [32m  [32mâœ”[39m[0m[90m should get property under an array array sub-property[0m

[0m  keep-a-changelog[0m
[0m    setReleaseVersion[0m
    [32m  [32mâœ”[39m[0m[90m should only set version but not modify changelog file when dry run is enabled[0m
    [32m  [32mâœ”[39m[0m[90m should set version and modify changelog file when dry run is disabled[0m
[0m    setPostReleaseVersion[0m
    [32m  [32mâœ”[39m[0m[90m should only add new release but not modify changelog file when dry run is enabled[0m
    [32m  [32mâœ”[39m[0m[90m should add new release and modify changelog file when dry run is disabled[0m
[0m    getVersion[0m
<ref *1> Changelog {
  flag: '',
  title: 'Changelog',
  description: 'All notable changes to this project will be documented in this file.',
  head: 'HEAD',
  footer: undefined,
  url: undefined,
  releases: [
    Release {
      changelog: [Circular *1],
      parsedVersion: [Object],
      date: 2023-06-15T00:00:00.000Z,
      yanked: false,
      description: '',
      changes: [Map]
    },
    Release {
      changelog: [Circular *1],
      parsedVersion: [Object],
      date: 2023-01-01T00:00:00.000Z,
      yanked: false,
      description: '',
      changes: [Map]
    }
  ],
  tagNameBuilder: undefined,
  compareLinkBuilder: undefined,
  tagLinkBuilder: undefined,
  format: 'compact',
  bulletStyle: '-',
  autoSortReleases: true
}
    [32m  [32mâœ”[39m[0m[90m should get version from latest release when it has a version number[0m
<ref *1> Changelog {
  flag: '',
  title: 'Changelog',
  description: 'All notable changes to this project will be documented in this file.',
  head: 'HEAD',
  footer: undefined,
  url: undefined,
  releases: [
    Release {
      changelog: [Circular *1],
      parsedVersion: undefined,
      date: undefined,
      yanked: false,
      description: '',
      changes: [Map]
    },
    Release {
      changelog: [Circular *1],
      parsedVersion: [Object],
      date: 2023-06-15T00:00:00.000Z,
      yanked: false,
      description: '',
      changes: [Map]
    },
    Release {
      changelog: [Circular *1],
      parsedVersion: [Object],
      date: 2023-01-01T00:00:00.000Z,
      yanked: false,
      description: '',
      changes: [Map]
    }
  ],
  tagNameBuilder: undefined,
  compareLinkBuilder: undefined,
  tagLinkBuilder: undefined,
  format: 'compact',
  bulletStyle: '-',
  autoSortReleases: true
}
    [32m  [32mâœ”[39m[0m[90m should get version from previous release suffix when latest release is Unreleased[0m
<ref *1> Changelog {
  flag: '',
  title: 'Changelog',
  description: 'All notable changes to this project will be documented in this file.',
  head: 'HEAD',
  footer: undefined,
  url: undefined,
  releases: [
    Release {
      changelog: [Circular *1],
      parsedVersion: undefined,
      date: undefined,
      yanked: false,
      description: '',
      changes: [Map]
    }
  ],
  tagNameBuilder: undefined,
  compareLinkBuilder: undefined,
  tagLinkBuilder: undefined,
  format: 'compact',
  bulletStyle: '-',
  autoSortReleases: true
}
    [32m  [32mâœ”[39m[0m[90m should default to 0.0.0 when no version is found[0m
'Failed to parse changelog. Please fix the changelog following the keep a changelog format https://keepachangelog.com . Error: Parse error in the line 5: Unexpected content [[5,"h3",["Some Invalid Section"]]]'
    [32m  [32mâœ”[39m[0m[90m should handle parse error and throw[0m
    [32m  [32mâœ”[39m[0m[90m should handle file read error and pass it to callback[0m

[0m  makefile[0m
[0m    setVersion[0m
    [32m  [32mâœ”[39m[0m[90m should only set version but not modify makefile when dry run is enabled[0m
    [32m  [32mâœ”[39m[0m[90m should set version and modify makefile when dry run is disabled[0m
[0m    getVersion[0m
    [32m  [32mâœ”[39m[0m[90m should get version from resource variable[0m

[0m  text[0m
[0m    setVersion[0m
    [32m  [32mâœ”[39m[0m[90m should only set version but not modify text file when dry run is enabled[0m
    [32m  [32mâœ”[39m[0m[90m should set version and modify text file when dry run is disabled[0m
    [32m  [32mâœ”[39m[0m[90m should set version and modify text file when there are multiple matches[0m
[0m    getVersion[0m
    [32m  [32mâœ”[39m[0m[90m should get version from text resource[0m
    [32m  [32mâœ”[39m[0m[90m should get first regex match as version from text resource when there are multiple matches[0m
    [32m  [32mâœ”[39m[0m[90m should get version from text resource when the version includes a pre release[0m

[0m  toml[0m
[0m    setVersion[0m
    [32m  [32mâœ”[39m[0m[90m should only set version but not modify toml file when dry run is enabled[0m
    [32m  [32mâœ”[39m[0m[90m should set version and modify toml file when dry run is disabled[0m
    [32m  [32mâœ”[39m[0m[90m should set array property under a section[0m
[0m    getVersion[0m
    [32m  [32mâœ”[39m[0m[90m should get version from resource property[0m
    [32m  [32mâœ”[39m[0m[90m should get array property under a section[0m

[0m  yaml[0m
[0m    setVersion[0m
    [32m  [32mâœ”[39m[0m[90m should only set version but not modify yaml file when dry run is enabled[0m
    [32m  [32mâœ”[39m[0m[90m should set version and modify yaml file when dry run is disabled[0m
    [32m  [32mâœ”[39m[0m[90m should set property under array sub-property[0m
    [32m  [32mâœ”[39m[0m[90m should not double up document separator YAML header when it already exists[0m
[0m    getVersion[0m
    [32m  [32mâœ”[39m[0m[90m should get version from resource property[0m
    [32m  [32mâœ”[39m[0m[90m should get property under an array array sub-property[0m

[0m  git[0m
[0m    addVersion[0m
    [32m  [32mâœ”[39m[0m[90m should call simpleGit addTag[0m[33m (52ms)[0m
[0m    saveChanges[0m
    [32m  [32mâœ”[39m[0m[90m should call simpleGit commit[0m

[0m  semver[0m
[0m    default release increment type and default post release increment type[0m
    [32m  [32mâœ”[39m[0m[90m should increment minor version for release version[0m
    [32m  [32mâœ”[39m[0m[90m should increment patch version for post release version[0m
[0m    minor release increment type and patch post release increment type[0m
    [32m  [32mâœ”[39m[0m[90m should increment minor version for release version[0m
    [32m  [32mâœ”[39m[0m[90m should increment patch version for post release version[0m
[0m    major release increment type and patch post release increment type[0m
    [32m  [32mâœ”[39m[0m[90m should increment major version for release version[0m
    [32m  [32mâœ”[39m[0m[90m should increment patch version for post release version[0m
[0m    major release increment type and minor post release increment type[0m
    [32m  [32mâœ”[39m[0m[90m should increment major version for release version[0m
    [32m  [32mâœ”[39m[0m[90m should increment minor version for post release version[0m
[0m    minor release increment type and patch post release increment type[0m
    [32m  [32mâœ”[39m[0m[90m should increment minor version for release version[0m
    [32m  [32mâœ”[39m[0m[90m should increment patch version for post release version[0m
[0m    minor release increment type and minor post release increment type[0m
    [32m  [32mâœ”[39m[0m[90m should increment minor version for release version[0m
    [32m  [32mâœ”[39m[0m[90m should increment minor version for post release version[0m
[0m    patch release increment type and patch post release increment type[0m
    [32m  [32mâœ”[39m[0m[90m should increment minor version for release version[0m
    [32m  [32mâœ”[39m[0m[90m should increment patch version for post release version[0m
[0m    default release increment type and default post release increment type with non-prerelease version[0m
    [32m  [32mâœ”[39m[0m[90m should increment minor version for release version[0m
    [32m  [32mâœ”[39m[0m[90m should increment patch version for post release version[0m


[92m [0m[32m 67 passing[0m[90m (180ms)[0m

